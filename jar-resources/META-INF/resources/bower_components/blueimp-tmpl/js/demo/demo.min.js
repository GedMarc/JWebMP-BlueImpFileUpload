(function(){var f=document.getElementById("template");var i=document.getElementById("data");var h=document.getElementById("result");var d=document.getElementById("tmpl-demo");var e=document.getElementById("tmpl-data");function c(k,j){h.innerHTML=tmpl("tmpl-error",{title:k,error:j})}function a(j){j.preventDefault();var k;try{k=JSON.parse(i.value)}catch(l){c("JSON parsing failed",l);return}try{h.innerHTML=tmpl(f.value,k)}catch(l){c("Template rendering failed",l)}}function b(j){while(j.lastChild){j.removeChild(j.lastChild)}}function g(j){if(j){j.preventDefault()}f.value=d.innerHTML.trim();i.value=e.innerHTML.trim();b(h)}document.getElementById("render").addEventListener("click",a);document.getElementById("reset").addEventListener("click",g);g()}());